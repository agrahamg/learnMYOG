<!DOCTYPE HTML>
<!--
    Hello World
-->
<html>
    <head>
        <title>MYOG Patterns</title>
        <script 
            src="https://code.jquery.com/jquery-3.4.1.min.js" 
            integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
            crossorigin="anonymous">
        </script>
    </head>

    <body>
        <H2>Zip Sack</H2>
        <p class="version"></p>

        <p>Zip sack dimensions:</p>
        
        <p>Length: <input type="number" class="dimension" id="length"></p>
        <p>Width: <input type="number" class="dimension" id="width"></p>
        <p>Height: <input type="number" class="dimension" id="height"></p>
        <p>Zip Sack Volume: <span class="volumeCuIn"></span> cubic inches and <span class="volumeLiters"></span> liters.</p>
        <p>Pattern size: 
            <ul>
                <li>Fabric Width: <span class="patternWidth"></span>"</li>
                <li>Fabric Height: <span class="patternHeight"></span>"</li> 
        </ul>
        <p>3/8" Seam Allowance and 1/2" Zipper Allowance</p>
        </br>
        <img src="\images\zipSackPlan.jpg" alt="Planned Zip Sack" width="400px">
        <img src="\images\zipSackPattern.jpg" alt="Zip Sack Pattern" width="400px">
        <img src="\images\zipSackCompleted.jpg" alt="Completed Zip Sack" width="400px">
    </body>

    <script>
        //Pattern Size Calculator
        //
        //
        function patternSize(l,w,h) {
            var zsA = 0.5;      // zipper seam allowance
            var sA = 0.375;     // general seam allowance
            if (l,w,h > 0) {
                var fabricH = 2*w + 2*h + (2*zsA);
                var fabricW = 1*l + 1*h + (2*sA);
                return [fabricH, fabricW];
            }
        }

        $('document').ready(function () {

            var version = "v0.2";
            $('.version').html(version);

            $('.dimension').change(function () {   //when any .dimension changes (input loses focus), function runs
                var vol = 1;
                $.each($('input[class=dimension]'), function () {
                    var curr_val = $(this).val();
                    if (curr_val != "") {
                        //console.log($(this).attr('id')+" is "+curr_val);
                        vol = vol * curr_val;    //volume cu in
                    }
                });

                var length = $('#length').val();
                var width = $('#width').val();
                var height = $('#height').val();
                
                if (length, width, height != "") {
                    var scrap = patternSize(length,width,height);
                    //console.log(scrap);
                    var fabricH = scrap[0];
                    var fabricW = scrap[1];
                
                    var volLiters = (vol * 0.0163871).toFixed(1);
                    $('.volumeCuIn').html(vol);  //set all .volume to vol
                    $('.volumeLiters').html(volLiters);
                    $('.patternWidth').html(fabricW);
                    $('.patternHeight').html(fabricH);

                }
           });
        });
    </script>

</html>

